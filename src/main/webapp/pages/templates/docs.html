		<div class="row">
		
		<p><span th:text="'amount' + ': ' + ${amount}"></span></p>
		<p><span th:text="'max id' + ': ' + ${maxid}"></span></p>
		<p><span th:text="'last parsed' + ': ' + ${parsed}"></span></p>
		<p><span th:text="'max wordcount' + ': ' + ${maxcount}"></span></p>
		<p><span th:text="'bad wordcount' + ': ' + ${mincount}"></span></p>
		
		<p th:each="year : ${years}"><span th:text="${year[0]} + ': ' + ${year[1]}"></span></p>
		
		<p><span th:text="'0 wordcount' + ': ' + ${nokeyssize}"></span>
			<a href="#" th:text="' (' + 'show/hide' + ')'" onclick="show()"></a></p>
		<div id="keys" hidden="true">
		<p th:each="nokey : ${nokeys}"><span th:text="'id ' + ${nokey} + ' - '"></span>
			<a th:href="@{/stat/analizeDoc(id=${nokey})}" th:text="'analize'"></a></p>
		</div>
		<a href="#" id="plusButton" th:text="'analize all'"></a>
		
		<p><a href="#" id="updDC" th:text="'Update document categories'"></a></p>
		<p><a href="#" id="updDT" th:text="'Update document trends'"></a></p>
		<p><a href="#" id="loadDocs" th:text="'Upload new articles'"></a></p>
		<p id="curStatus"></p>
			<script th:inline="javascript">
			/*<![CDATA[*/
				function show() {
					if ($("#keys").is(':hidden'))
						$("#keys").show();
					else $("#keys").hide();
				}

				function ajaxGroup(requestUrl) {
					
					var inputArgs = [];
					var i;
					for (i = 1; i < arguments.length; i++) {
						inputArgs.push(arguments[i]);
					}
					
					 var csrfHeader = $("meta[name='_csrf_header']").attr("content");
				     var csrfToken = $("meta[name='_csrf']").attr("content");
				     var headers = {};
				     headers[csrfHeader] = csrfToken;

			        if ($("#curStatus").html() === '' || $("#curStatus").html() === 'success')
				    	$("#curStatus").html('executing...');
					$.ajax({
						url : requestUrl,
						type: 'POST',
						dataType: 'json',
						contentType: 'application/json; charset=utf-8',
						data : JSON.stringify(inputArgs),
						headers: headers,
						success: function (res) {
							if (res.success)
					         $("#curStatus").html('success');
					        else {
						        $("#curStatus").html(res.res);
					         	ajaxGroup(requestUrl);
					        }
						},
						error: function (xhRequest, ErrorText, thrownError) {
					         $("#curStatus").html('ERROR!!!');
							console.log('xhRequest: ' + xhRequest + "\n");
							console.log('ErrorText: ' + ErrorText + "\n");
							console.log('thrownError: ' + thrownError + "\n");
							console.log('JSON request: ' + JSON.stringify(inputArgs) + "\n");
						}
					});
				}
				$("#plusButton").on("click", function() {ajaxGroup(rootPath + 'stat/analizeAllDoc')});
				$("#updDC").on("click", function() {ajaxGroup(rootPath + 'stat/insertDC?cat=true')});
				$("#updDT").on("click", function() {ajaxGroup(rootPath + 'stat/insertDC?cat=false')});
				$("#loadDocs").on("click", function() {ajaxGroup(rootPath + 'stat/loadDocs')});
			/*]]>*/
			</script>
		</div>