<div th:fragment="skillModalForm" th:remove="tag">
    <div class="modal-dialog" role="document">
    <div class="modal-content">
	<div class="modal-body">
		<div id="viewSkillBlock">
		<div clss="modal-header">
			<h3><span id="skillName">Name</span></h3>
		</div>
  		<p><span id="skillAbout">About</span></p>
  		<p><span id="skillLevels">Levels</span></p>
  		<p th:text="#{skill.levels}"></p>
		<table class="table table-striped">
			<tbody id="levelsView">
			</tbody>
		</table>
  		<div class="input-group">
			<a id="rememberLink" onclick="#">
				<span class="input-group-btn">
					<button class="btn btn-primary btn-block" type="submit" th:text="#{skillPopup.remember}">Remember</button>
				</span>
			</a>
			<a id="editLink" th:if="${isAdmin or isResident}" href="#">
				<span class="input-group-btn">
					<button class="btn btn-primary btn-block" type="submit" th:text="#{skillPopup.edit}">Edit</button>
				</span>
			</a>
			<a id="deleteLink" th:if="${isAdmin or isResident}" href="#">
				<span class="input-group-btn">
					<button class="btn btn-primary btn-block" type="submit" th:text="#{skillPopup.delete}">Delete</button>
				</span>
			</a>
			<a id="approveLink" th:if="${isAdmin}" href="#">
				<span class="input-group-btn">
					<button class="btn btn-primary btn-block" type="submit" th:text="#{skillPopup.approve}">Approve</button>
				</span>
			</a>
  		</div>
  		<th:block th:if="${isAdmin or isResident}">
  		<span id="createTypeLabel" th:text="#{page.create}" hidden="true"></span>
  		<select id="childTypeSelect" hidden="true">
				<option th:value="class" th:text="#{skill.types.class}">
					class</option>
				<option th:value="skill" th:text="#{skill.types.skill}">
					experience</option>
				<option th:value="knowledge" th:text="#{skill.types.knowledge}">
					knowledge</option>
				<option th:value="communicative" th:text="#{skill.types.communicative}">
					communicative</option>
		</select>
		<script type="text/javascript">
		$(childTypeSelect).on("input", function() {
			var selectedText = $("#childTypeSelect option:selected").html();
			$("#createChildButton").val($("#createTypeLabel").html() + " " + selectedText);
		});
		$(childTypeSelect).trigger("input");
		</script>
		</th:block>
  		<p th:if="${isAdmin or isResident}"><input type="submit" id="createChildButton" class="btn btn-primary btn-block" th:value="#{skillPopup.child}" onclick="$('#newSkillForm').show(); return false"/></p>
  		</div>
  		<div th:if="${isAdmin or isResident}" class="collection-object force-width" id="newSkillForm">
  		<h3 id="skillFormTitle"><span id="skillName" th:text="#{skillPopup.child}"></span></h3>
  		<form action="#" th:action="@{/editor/skill/alternativeAsync}" th:object="${skill}" method="post" id="skillCreate">
  			<input type="hidden" th:field="*{id}" class="input-wide" th:value="0"/>
  			<p th:text="#{editor.skill.name}"></p>
  			<span th:text="#{editor.placeholder.skill_name_ru}" text="Skill name (RU)"></span>:
			<p><input type="text" class="form-control" th:field="*{name_RU}" placeholder="Skill name (RU)" th:placeholder="#{editor.placeholder.skill_name_ru}" pattern=".{0,100}" title="Must be more than 5 but less than 100 symbols" th:title="#{editor.title.skill_name_ru}" id="skill_name_ru" onblur="addCheck(this, 5, 100)"/></p>
			<span th:text="#{editor.placeholder.skill_name_en}" text="Skill name (EN)"></span>:
			<p><input type="text" class="form-control" th:field="*{name}" placeholder="Skill name (EN)" th:placeholder="#{editor.placeholder.skill_name_en}" pattern=".{0,100}" title="Must be more than 5 but less than 100 symbols" th:title="#{editor.title.skill_name_en}" id="skill_name" onblur="addCheck(this, 5, 100)"/></p>
			<p th:text="#{editor.skill.description}"></p>
			<span th:text="#{editor.placeholder.description_ru}" text="About (RU)"></span>:
			<p><textarea type="textarea" class="form-control" th:field="*{about_RU}" placeholder="About (RU)" th:placeholder="#{editor.placeholder.description_ru}" pattern=".{0,1000}" title="Must be less than 1000 symbols" th:title="#{editor.title.description_ru}"></textarea></p>
			<span th:text="#{editor.placeholder.description_en}" text="About (EN)"></span>:
			<p><textarea type="textarea" class="form-control" th:field="*{about}" placeholder="About (EN)" th:placeholder="#{editor.placeholder.description_en}" pattern=".{0,1000}" title="Must be less than 1000 symbols" th:title="#{editor.title.description_en}"></textarea></p>
			<p th:text="#{editor.skill.maxlevel}"></p>
			<p><span th:text="#{editor.maxlevel}"></span> <input type="number" th:field="*{maxLevel}" min="1" max="100" id="levelsNum"/></p>
		<p th:text="#{editor.skill.type}" hidden="true"></p>
		<select id="childType" th:field="*{type}" hidden="true">
				<option th:value="class" th:text="#{skill.types.class}" selected="true">
					class</option>
				<option th:value="skill" th:text="#{skill.types.skill}">
					experience</option>
				<option th:value="knowledge" th:text="#{skill.types.knowledge}">
					knowledge</option>
				<option th:value="communicative" th:text="#{skill.types.communicative}">
					communicative</option>
		</select>
		<script type="text/javascript">//<!--
		$(createChildButton).on("click", function() {
			document.getElementById('skillFormTitle').innerHTML=
				"<span id=\"skillName\">" + $("#createChildButton").val() + "</span>";
			$('#childTypeHidden option[value="' + $("#childTypeSelect").val() + '"]').prop('selected', true);
		});//-->
		</script>
		<p th:text="#{editor.skill.parent}"></p>
		<p>
			<span th:text="#{editor.parentskill}"></span> <select id="parentSelect"
				th:field="*{parent}">
				<option th:value="null" th:text="#{editor.noparent}">No
					parent</option>
				<option th:each="skillInList : ${skillsList}"
					th:value="${skillInList.id}" th:text="${skillInList.name}">A
					skill</option>
			</select>
		</p>
			<p><input type="submit" id="skillSubmitButton" class="btn btn-primary btn-block" value="Create" th:value="#{editor.create}"/></p>
			<p th:text="#{skillPopup.editor.level}"></p>
			<table class="table table-striped">
				<tbody id="levelsPost">
				</tbody>
			</table>
			<p><input type="submit" class="btn btn-primary btn-block" value="+" onclick="$(levelsNum).val(parseInt($(levelsNum).val())+1); $(levelsNum).trigger('input'); return false"/></p>
  			<p><input type="submit" id="skillSubmitButton2" class="btn btn-primary btn-block" value="Create" th:value="#{editor.create}"/></p>
		</form>
  		</div>
  	</div>
  	</div>
	</div>
	</div>
	
			
<div th:fragment="profileCreationSuccess" th:remove="tag">
  <p>Form successfully submitted</p>
</div>